
Este backend permite:

Registrar usuarios y su información.

Manejar pagos mensuales de membresía.

Saber si un usuario está activo o inactivo.

Generar lecturas principales y lecturas diarias usando IA.

Guardar todas las lecturas en la base de datos.

Solo los usuarios activos pueden obtener lecturas diarias.

 2. Cómo está organizado el proyecto 
config/               → Conexión a la base de datos
controllers/          → Lógica de cada endpoint
cron/                 → Tarea automática para vencer membresías
models/               → Consultas SQL organizadas por tabla
routes/               → Rutas de la API
validators/           → Validaciones para usuarios y pagos
app.js                → Archivo principal que inicia el servidor
dataBase.sql          → Script con las tablas


app.js carga rutas, middlewares y arranca el servidor.

cron/verificarMembresias.js revisa cada cierto tiempo qué usuarios deben pasar a inactivo.

 3. Cómo funciona cada parte
✔ Usuarios

Se registran con nombre, correo y fecha de nacimiento.

Su estado inicia siendo inactivo.

Cuando pagan, automáticamente pasan a activo.

Si la membresía vence, pasan a inactivo.

✔ Pagos (Membresía mensual)

Registrar un pago crea una fecha de vencimiento.

 

El cron revisa si la fecha ya pasó y cambia el estado del usuario.

✔ Lecturas
● Lectura principal

Se genera una sola vez

Se basa en la fecha de nacimiento.


● Lectura diaria


Se genera cada vez que la pidan.

Se guarda con tipo "diaria".




 4. Endpoints principales

Usuarios

Método	Endpoint	Descripción
GET	/api/usuarios	Listar todos
GET	/api/usuarios/:id	Obtener uno
POST	/api/usuarios	Registrar usuario
PUT	/api/usuarios/:id	Actualizar
PATCH	/api/usuarios/:id/estado	Cambiar activo/inactivo
DELETE	/api/usuarios/:id	Eliminar

Pagos / Membresía
Método	Endpoint	Descripción
GET	/api/pagos	Listar pagos
GET	/api/pagos/:usuario_id	Pagos de un usuario
POST	/api/pagos	Registrar pago (activa usuario)
GET	/api/pagos/estado/:usuario_id	Ver si está activo o vencido


 Lecturas
Método	Endpoint	Descripción
POST	/api/lecturas/principal/:usuario_id	Generar lectura principal
POST	/api/lecturas/diaria/:usuario_id	Generar lectura diaria
GET	/api/lecturas/usuario/:usuario_id	Todas las lecturas del usuario
GET	/api/lecturas/:id	Lectura específica


